\hypertarget{classSMImp_1_1UtilityCompany}{}\section{S\+M\+Imp\+:\+:Utility\+Company Class Reference}
\label{classSMImp_1_1UtilityCompany}\index{S\+M\+Imp\+::\+Utility\+Company@{S\+M\+Imp\+::\+Utility\+Company}}


Utility Company protocol-\/level implementation.  




{\ttfamily \#include $<$Utility\+Company.\+h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classSMImp_1_1UtilityCompany_a39c0aca6d615398d97d475b52ee22e89}{Utility\+Company} (S\+H\+A1 $\ast$)
\item 
\hyperlink{classSMImp_1_1UtilityCompany_ab0f04eabfbaf56660c1d199da8170fe0}{Utility\+Company} ()
\item 
\hyperlink{classSMImp_1_1UtilityCompany_a9ef6bb1e7d8032eb305cb227cd68251d}{$\sim$\+Utility\+Company} ()
\item 
bool \hyperlink{classSMImp_1_1UtilityCompany_adeb454bff89a79e454d433bc1ccd448e}{generate\+Key} (Integer q, const Integer \&max, const Integer \&equiv, const Integer \&mod)
\item 
\hyperlink{structSMImp_1_1Payload}{Payload} \hyperlink{classSMImp_1_1UtilityCompany_accfd3e076199f63e5c52ac909976b46a}{generate\+Partial\+Keys} (Integer id)
\item 
bool \hyperlink{classSMImp_1_1UtilityCompany_a5acda2036141ad86d910132004e73b5a}{verify\+H\+M\+AC} (Integer id, \hyperlink{structSMImp_1_1HMACPayload}{H\+M\+A\+C\+Payload} payload)
\item 
void \hyperlink{classSMImp_1_1UtilityCompany_a08a727386b9f32478395975b062d221f}{register\+SM} (Integer $\ast$id)
\item 
void \hyperlink{classSMImp_1_1UtilityCompany_af4559cc4400f5448719aceb32cc53656}{register\+T\+TP} (Integer $\ast$id)
\item 
\hyperlink{classList}{List}$<$ Integer $>$ $\ast$ \hyperlink{classSMImp_1_1UtilityCompany_a76d86a7b253eeb6652dc537d756cbdaf}{get\+S\+Mby\+Anon\+Id} (Integer id)
\item 
\hyperlink{classList}{List}$<$ Integer $>$ $\ast$ \hyperlink{classSMImp_1_1UtilityCompany_a24c3df26cca4ca6ea6855464f2db5249}{get\+SM} (Integer id)
\item 
\hyperlink{classList}{List}$<$ Integer $>$ $\ast$ \hyperlink{classSMImp_1_1UtilityCompany_a3e0d30043e9d880b8f8447232af914c2}{get\+T\+TP} (Integer id)
\item 
void \hyperlink{classSMImp_1_1UtilityCompany_a9e6da1e8015a803748b644d186619a8f}{add\+S\+M\+Data} (Integer $\ast$id, Integer $\ast$data)
\item 
void \hyperlink{classSMImp_1_1UtilityCompany_a03e5d17d5403d9f7527b81d82156650c}{add\+T\+T\+P\+Data} (Integer $\ast$id, Integer $\ast$data)
\item 
int \hyperlink{classSMImp_1_1UtilityCompany_a62d792edc023bd9b8bad3cfdc76f985b}{get\+T\+T\+P\+Size} (Integer $\ast$id)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Utility Company protocol-\/level implementation. 

Definition at line 12 of file Utility\+Company.\+h.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classSMImp_1_1UtilityCompany_a39c0aca6d615398d97d475b52ee22e89}\label{classSMImp_1_1UtilityCompany_a39c0aca6d615398d97d475b52ee22e89}} 
\index{S\+M\+Imp\+::\+Utility\+Company@{S\+M\+Imp\+::\+Utility\+Company}!Utility\+Company@{Utility\+Company}}
\index{Utility\+Company@{Utility\+Company}!S\+M\+Imp\+::\+Utility\+Company@{S\+M\+Imp\+::\+Utility\+Company}}
\subsubsection{\texorpdfstring{Utility\+Company()}{UtilityCompany()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily S\+M\+Imp\+::\+Utility\+Company\+::\+Utility\+Company (\begin{DoxyParamCaption}\item[{S\+H\+A1 $\ast$}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{classSMImp_1_1UtilityCompany_ab0f04eabfbaf56660c1d199da8170fe0}\label{classSMImp_1_1UtilityCompany_ab0f04eabfbaf56660c1d199da8170fe0}} 
\index{S\+M\+Imp\+::\+Utility\+Company@{S\+M\+Imp\+::\+Utility\+Company}!Utility\+Company@{Utility\+Company}}
\index{Utility\+Company@{Utility\+Company}!S\+M\+Imp\+::\+Utility\+Company@{S\+M\+Imp\+::\+Utility\+Company}}
\subsubsection{\texorpdfstring{Utility\+Company()}{UtilityCompany()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily S\+M\+Imp\+::\+Utility\+Company\+::\+Utility\+Company (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 8 of file Utility\+Company.\+cc.



References generate\+Key().

\mbox{\Hypertarget{classSMImp_1_1UtilityCompany_a9ef6bb1e7d8032eb305cb227cd68251d}\label{classSMImp_1_1UtilityCompany_a9ef6bb1e7d8032eb305cb227cd68251d}} 
\index{S\+M\+Imp\+::\+Utility\+Company@{S\+M\+Imp\+::\+Utility\+Company}!````~Utility\+Company@{$\sim$\+Utility\+Company}}
\index{````~Utility\+Company@{$\sim$\+Utility\+Company}!S\+M\+Imp\+::\+Utility\+Company@{S\+M\+Imp\+::\+Utility\+Company}}
\subsubsection{\texorpdfstring{$\sim$\+Utility\+Company()}{~UtilityCompany()}}
{\footnotesize\ttfamily S\+M\+Imp\+::\+Utility\+Company\+::$\sim$\+Utility\+Company (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 20 of file Utility\+Company.\+cc.



References S\+M\+Imp\+::\+Master\+Key\+::g, S\+M\+Imp\+::\+Master\+Key\+::p, S\+M\+Imp\+::\+Master\+Key\+::q, and S\+M\+Imp\+::\+Master\+Key\+::x.



\subsection{Member Function Documentation}
\mbox{\Hypertarget{classSMImp_1_1UtilityCompany_a9e6da1e8015a803748b644d186619a8f}\label{classSMImp_1_1UtilityCompany_a9e6da1e8015a803748b644d186619a8f}} 
\index{S\+M\+Imp\+::\+Utility\+Company@{S\+M\+Imp\+::\+Utility\+Company}!add\+S\+M\+Data@{add\+S\+M\+Data}}
\index{add\+S\+M\+Data@{add\+S\+M\+Data}!S\+M\+Imp\+::\+Utility\+Company@{S\+M\+Imp\+::\+Utility\+Company}}
\subsubsection{\texorpdfstring{add\+S\+M\+Data()}{addSMData()}}
{\footnotesize\ttfamily void S\+M\+Imp\+::\+Utility\+Company\+::add\+S\+M\+Data (\begin{DoxyParamCaption}\item[{Integer $\ast$}]{id,  }\item[{Integer $\ast$}]{data }\end{DoxyParamCaption})}

Adds arbitrary data to the local Smart Meter representation. 
\begin{DoxyParams}{Parameters}
{\em id} & ID of the Smart Meter to add data to. \\
\hline
{\em data} & Data to add to the local Smart Meter representation. \\
\hline
\end{DoxyParams}


Definition at line 80 of file Utility\+Company.\+cc.



References List$<$ T $>$\+::add(), List$<$ T $>$\+::get(), and List$<$ T $>$\+::size().

\mbox{\Hypertarget{classSMImp_1_1UtilityCompany_a03e5d17d5403d9f7527b81d82156650c}\label{classSMImp_1_1UtilityCompany_a03e5d17d5403d9f7527b81d82156650c}} 
\index{S\+M\+Imp\+::\+Utility\+Company@{S\+M\+Imp\+::\+Utility\+Company}!add\+T\+T\+P\+Data@{add\+T\+T\+P\+Data}}
\index{add\+T\+T\+P\+Data@{add\+T\+T\+P\+Data}!S\+M\+Imp\+::\+Utility\+Company@{S\+M\+Imp\+::\+Utility\+Company}}
\subsubsection{\texorpdfstring{add\+T\+T\+P\+Data()}{addTTPData()}}
{\footnotesize\ttfamily void S\+M\+Imp\+::\+Utility\+Company\+::add\+T\+T\+P\+Data (\begin{DoxyParamCaption}\item[{Integer $\ast$}]{id,  }\item[{Integer $\ast$}]{data }\end{DoxyParamCaption})}

Adds arbitrary data to the local Trusted Third Party representation. 
\begin{DoxyParams}{Parameters}
{\em id} & ID of the Trusted Third Party to add data to. \\
\hline
{\em data} & Data to add to the local Trusted Third Party representation. \\
\hline
\end{DoxyParams}


Definition at line 86 of file Utility\+Company.\+cc.



References List$<$ T $>$\+::add(), List$<$ T $>$\+::get(), and List$<$ T $>$\+::size().

\mbox{\Hypertarget{classSMImp_1_1UtilityCompany_adeb454bff89a79e454d433bc1ccd448e}\label{classSMImp_1_1UtilityCompany_adeb454bff89a79e454d433bc1ccd448e}} 
\index{S\+M\+Imp\+::\+Utility\+Company@{S\+M\+Imp\+::\+Utility\+Company}!generate\+Key@{generate\+Key}}
\index{generate\+Key@{generate\+Key}!S\+M\+Imp\+::\+Utility\+Company@{S\+M\+Imp\+::\+Utility\+Company}}
\subsubsection{\texorpdfstring{generate\+Key()}{generateKey()}}
{\footnotesize\ttfamily bool S\+M\+Imp\+::\+Utility\+Company\+::generate\+Key (\begin{DoxyParamCaption}\item[{Integer}]{q,  }\item[{const Integer \&}]{max,  }\item[{const Integer \&}]{equiv,  }\item[{const Integer \&}]{mod }\end{DoxyParamCaption})}

Utilizes \href{https://www.cryptopp.com/docs/ref/nbtheory_8h.html#aaef9ef9567713cd9935e468309ebcc9d}{\tt Crypto\+PP\textquotesingle{}s nbtheory} to generate paramters for use in key generation.

Heavy comments are utilized in the source file. It is recommended to read through this function in Utility\+Company.\+cc 

Definition at line 152 of file Utility\+Company.\+cc.



References S\+M\+Imp\+::\+Key\+::partial, S\+M\+Imp\+::\+Key\+Pair\+::priv, and S\+M\+Imp\+::\+Key\+Pair\+::pub.

\mbox{\Hypertarget{classSMImp_1_1UtilityCompany_accfd3e076199f63e5c52ac909976b46a}\label{classSMImp_1_1UtilityCompany_accfd3e076199f63e5c52ac909976b46a}} 
\index{S\+M\+Imp\+::\+Utility\+Company@{S\+M\+Imp\+::\+Utility\+Company}!generate\+Partial\+Keys@{generate\+Partial\+Keys}}
\index{generate\+Partial\+Keys@{generate\+Partial\+Keys}!S\+M\+Imp\+::\+Utility\+Company@{S\+M\+Imp\+::\+Utility\+Company}}
\subsubsection{\texorpdfstring{generate\+Partial\+Keys()}{generatePartialKeys()}}
{\footnotesize\ttfamily \hyperlink{structSMImp_1_1Payload}{Payload} S\+M\+Imp\+::\+Utility\+Company\+::generate\+Partial\+Keys (\begin{DoxyParamCaption}\item[{Integer}]{id }\end{DoxyParamCaption})}

Generates partial private and public keys given the ID. 
\begin{DoxyParams}{Parameters}
{\em id} & ID of the \hyperlink{classSMImp_1_1Requester}{Requester} object to generate a pair of keys for. \\
\hline
\end{DoxyParams}


Definition at line 194 of file Utility\+Company.\+cc.



References S\+M\+Imp\+::\+Master\+Key\+::g, S\+M\+Imp\+::\+Master\+Key\+::p, S\+M\+Imp\+::\+Payload\+::params, S\+M\+Imp\+::\+Key\+::partial, S\+M\+Imp\+::\+Payload\+::priv, S\+M\+Imp\+::\+Key\+Pair\+::pub, S\+M\+Imp\+::\+Payload\+::pub, S\+M\+Imp\+::\+Master\+Key\+::q, and S\+M\+Imp\+::\+Master\+Key\+::x.

\mbox{\Hypertarget{classSMImp_1_1UtilityCompany_a24c3df26cca4ca6ea6855464f2db5249}\label{classSMImp_1_1UtilityCompany_a24c3df26cca4ca6ea6855464f2db5249}} 
\index{S\+M\+Imp\+::\+Utility\+Company@{S\+M\+Imp\+::\+Utility\+Company}!get\+SM@{get\+SM}}
\index{get\+SM@{get\+SM}!S\+M\+Imp\+::\+Utility\+Company@{S\+M\+Imp\+::\+Utility\+Company}}
\subsubsection{\texorpdfstring{get\+S\+M()}{getSM()}}
{\footnotesize\ttfamily \hyperlink{classList}{List}$<$ Integer $>$ $\ast$ S\+M\+Imp\+::\+Utility\+Company\+::get\+SM (\begin{DoxyParamCaption}\item[{Integer}]{id }\end{DoxyParamCaption})}

Gets Smart Meter representation by a given ID. 
\begin{DoxyParams}{Parameters}
{\em id} & The ID to search for. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
If found, returns the local Smart Meter representation. Returns N\+U\+LL otherwise. 
\end{DoxyReturn}


Definition at line 109 of file Utility\+Company.\+cc.



References List$<$ T $>$\+::get().

\mbox{\Hypertarget{classSMImp_1_1UtilityCompany_a76d86a7b253eeb6652dc537d756cbdaf}\label{classSMImp_1_1UtilityCompany_a76d86a7b253eeb6652dc537d756cbdaf}} 
\index{S\+M\+Imp\+::\+Utility\+Company@{S\+M\+Imp\+::\+Utility\+Company}!get\+S\+Mby\+Anon\+Id@{get\+S\+Mby\+Anon\+Id}}
\index{get\+S\+Mby\+Anon\+Id@{get\+S\+Mby\+Anon\+Id}!S\+M\+Imp\+::\+Utility\+Company@{S\+M\+Imp\+::\+Utility\+Company}}
\subsubsection{\texorpdfstring{get\+S\+Mby\+Anon\+Id()}{getSMbyAnonId()}}
{\footnotesize\ttfamily \hyperlink{classList}{List}$<$ Integer $>$ $\ast$ S\+M\+Imp\+::\+Utility\+Company\+::get\+S\+Mby\+Anon\+Id (\begin{DoxyParamCaption}\item[{Integer}]{id }\end{DoxyParamCaption})}

Gets Smart Meter representation by a given anonymous ID. 
\begin{DoxyParams}{Parameters}
{\em id} & The anonymous ID to search for. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
If found, returns the local Smart Meter representation. Returns N\+U\+LL otherwise. 
\end{DoxyReturn}


Definition at line 98 of file Utility\+Company.\+cc.



References List$<$ T $>$\+::get(), Iterator$<$ T $>$\+::has\+Next(), List$<$ T $>$\+::iterator(), and Iterator$<$ T $>$\+::next().

\mbox{\Hypertarget{classSMImp_1_1UtilityCompany_a3e0d30043e9d880b8f8447232af914c2}\label{classSMImp_1_1UtilityCompany_a3e0d30043e9d880b8f8447232af914c2}} 
\index{S\+M\+Imp\+::\+Utility\+Company@{S\+M\+Imp\+::\+Utility\+Company}!get\+T\+TP@{get\+T\+TP}}
\index{get\+T\+TP@{get\+T\+TP}!S\+M\+Imp\+::\+Utility\+Company@{S\+M\+Imp\+::\+Utility\+Company}}
\subsubsection{\texorpdfstring{get\+T\+T\+P()}{getTTP()}}
{\footnotesize\ttfamily \hyperlink{classList}{List}$<$ Integer $>$ $\ast$ S\+M\+Imp\+::\+Utility\+Company\+::get\+T\+TP (\begin{DoxyParamCaption}\item[{Integer}]{id }\end{DoxyParamCaption})}

Gets Trusted Third Party representation by a given ID. 
\begin{DoxyParams}{Parameters}
{\em id} & The ID to search for. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
If found, returns the local Trusted Third Party representation. Returns N\+U\+LL otherwise. 
\end{DoxyReturn}


Definition at line 114 of file Utility\+Company.\+cc.



References List$<$ T $>$\+::get().

\mbox{\Hypertarget{classSMImp_1_1UtilityCompany_a62d792edc023bd9b8bad3cfdc76f985b}\label{classSMImp_1_1UtilityCompany_a62d792edc023bd9b8bad3cfdc76f985b}} 
\index{S\+M\+Imp\+::\+Utility\+Company@{S\+M\+Imp\+::\+Utility\+Company}!get\+T\+T\+P\+Size@{get\+T\+T\+P\+Size}}
\index{get\+T\+T\+P\+Size@{get\+T\+T\+P\+Size}!S\+M\+Imp\+::\+Utility\+Company@{S\+M\+Imp\+::\+Utility\+Company}}
\subsubsection{\texorpdfstring{get\+T\+T\+P\+Size()}{getTTPSize()}}
{\footnotesize\ttfamily int S\+M\+Imp\+::\+Utility\+Company\+::get\+T\+T\+P\+Size (\begin{DoxyParamCaption}\item[{Integer $\ast$}]{id }\end{DoxyParamCaption})}

Gets the count of elements in the Trusted Third Party local representation. 

Definition at line 92 of file Utility\+Company.\+cc.



References List$<$ T $>$\+::get(), and List$<$ T $>$\+::size().

\mbox{\Hypertarget{classSMImp_1_1UtilityCompany_a08a727386b9f32478395975b062d221f}\label{classSMImp_1_1UtilityCompany_a08a727386b9f32478395975b062d221f}} 
\index{S\+M\+Imp\+::\+Utility\+Company@{S\+M\+Imp\+::\+Utility\+Company}!register\+SM@{register\+SM}}
\index{register\+SM@{register\+SM}!S\+M\+Imp\+::\+Utility\+Company@{S\+M\+Imp\+::\+Utility\+Company}}
\subsubsection{\texorpdfstring{register\+S\+M()}{registerSM()}}
{\footnotesize\ttfamily void S\+M\+Imp\+::\+Utility\+Company\+::register\+SM (\begin{DoxyParamCaption}\item[{Integer $\ast$}]{id }\end{DoxyParamCaption})}

Registers Smart Meter with internal list of Smart Meter representations. 

Definition at line 55 of file Utility\+Company.\+cc.



References List$<$ T $>$\+::add().

\mbox{\Hypertarget{classSMImp_1_1UtilityCompany_af4559cc4400f5448719aceb32cc53656}\label{classSMImp_1_1UtilityCompany_af4559cc4400f5448719aceb32cc53656}} 
\index{S\+M\+Imp\+::\+Utility\+Company@{S\+M\+Imp\+::\+Utility\+Company}!register\+T\+TP@{register\+T\+TP}}
\index{register\+T\+TP@{register\+T\+TP}!S\+M\+Imp\+::\+Utility\+Company@{S\+M\+Imp\+::\+Utility\+Company}}
\subsubsection{\texorpdfstring{register\+T\+T\+P()}{registerTTP()}}
{\footnotesize\ttfamily void S\+M\+Imp\+::\+Utility\+Company\+::register\+T\+TP (\begin{DoxyParamCaption}\item[{Integer $\ast$}]{id }\end{DoxyParamCaption})}

Registers Trusted Third Party with internal list of Trusted Third Party representations. 

Definition at line 68 of file Utility\+Company.\+cc.



References List$<$ T $>$\+::add().

\mbox{\Hypertarget{classSMImp_1_1UtilityCompany_a5acda2036141ad86d910132004e73b5a}\label{classSMImp_1_1UtilityCompany_a5acda2036141ad86d910132004e73b5a}} 
\index{S\+M\+Imp\+::\+Utility\+Company@{S\+M\+Imp\+::\+Utility\+Company}!verify\+H\+M\+AC@{verify\+H\+M\+AC}}
\index{verify\+H\+M\+AC@{verify\+H\+M\+AC}!S\+M\+Imp\+::\+Utility\+Company@{S\+M\+Imp\+::\+Utility\+Company}}
\subsubsection{\texorpdfstring{verify\+H\+M\+A\+C()}{verifyHMAC()}}
{\footnotesize\ttfamily bool S\+M\+Imp\+::\+Utility\+Company\+::verify\+H\+M\+AC (\begin{DoxyParamCaption}\item[{Integer}]{id,  }\item[{\hyperlink{structSMImp_1_1HMACPayload}{H\+M\+A\+C\+Payload}}]{payload }\end{DoxyParamCaption})}

Verifies the H\+M\+AC of the given payload. 
\begin{DoxyParams}{Parameters}
{\em id} & ID of the device to verify the message from. \\
\hline
{\em payload} & \hyperlink{structSMImp_1_1Payload}{Payload} containing the message to be verified. \\
\hline
\end{DoxyParams}


Definition at line 223 of file Utility\+Company.\+cc.



References S\+M\+Imp\+::\+H\+M\+A\+C\+Payload\+::hmac.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/crypto/\hyperlink{crypto_2UtilityCompany_8h}{Utility\+Company.\+h}\item 
src/crypto/\hyperlink{crypto_2UtilityCompany_8cc}{Utility\+Company.\+cc}\end{DoxyCompactItemize}
